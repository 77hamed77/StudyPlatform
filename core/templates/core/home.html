{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% translate "مرحباً بك في المنصة المساعدة للدراسة" %} - {{ block.super }}{% endblock %}

{% block extra_head %}
{{ block.super }}
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
    /* Custom styles for the landing page, integrated with existing theme variables */
    body { font-family: 'Cairo', sans-serif; }

    /* Hero Section Background */
    .hero-bg {
        background: var(--hero-gradient-light, linear-gradient(135deg, #3a2f01ff 0%, #252d6eff 100%));
        position: relative;
        overflow: hidden;
    }
    body.dark-mode .hero-bg {
        background: var(--hero-gradient-dark, linear-gradient(135deg, #1e293b 0%, #334155 100%));
    }
    .hero-bg::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="%23ffffff05" points="0,0 1000,300 1000,1000 0,700"/></svg>');
        background-size: cover;
        opacity: 0.1; /* Adjust opacity for better visibility */
    }

    /* Floating Card Animation */
    .floating-card {
        animation: float 6s ease-in-out infinite;
    }
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }

    /* Gradient Text */
    .gradient-text {
        background: var(--gradient-text-light, linear-gradient(45deg, #667eea, #764ba2));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    body.dark-mode .gradient-text {
        background: var(--gradient-text-dark, linear-gradient(45deg, #e4c975, #f0e68c)); /* Adjusted for dark mode */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Glass Card Effect */
    .glass-card {
        background: var(--glass-card-bg-light, rgba(255, 255, 255, 0.1));
        backdrop-filter: blur(10px);
        border: 1px solid var(--glass-card-border-light, rgba(255, 255, 255, 0.2));
    }
    body.dark-mode .glass-card {
        background: var(--glass-card-bg-dark, rgba(30, 41, 59, 0.3));
        border: 1px solid var(--glass-card-border-dark, rgba(255, 255, 255, 0.1));
    }

    /* Feature Card Hover Effect */
    .feature-card {
        transition: all 0.3s ease;
        background-color: var(--card-bg, #fff); /* Use existing card background */
        border: 1px solid var(--border-color, #eee); /* Use existing border color */
        box-shadow: var(--shadow-sm, 0 .125rem .25rem rgba(0,0,0,.075));
    }
    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-lg, 0 1rem 3rem rgba(0,0,0,.175)); /* Use Bootstrap shadow */
    }
    body.dark-mode .feature-card {
        background-color: var(--dark-card-bg, #1d2c3b);
        border-color: var(--dark-border-color, #3b4d66);
    }
    body.dark-mode .feature-card:hover {
        background-color: var(--dark-hover-bg, #293b54);
        box-shadow: 0 1rem 3rem rgba(0,0,0,0.3);
    }

    /* Pulse Animation */
    .pulse-slow {
        animation: pulse 3s infinite;
    }
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }

    /* Slide In Up Animation */
    .animate-slide-up {
        opacity: 0; /* Start invisible */
        transform: translateY(30px);
    }
    .animate-slide-up.visible { /* Class added by JS when in view */
        animation: slideInUp 0.8s ease-out forwards;
    }
    @keyframes slideInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-delay-1 { animation-delay: 0.2s; }
    .animate-delay-2 { animation-delay: 0.4s; }
    .animate-delay-3 { animation-delay: 0.6s; }

    /* Bootstrap overrides for consistency */
    .btn-custom-primary {
        background: linear-gradient(to right, #28a745, #007bff); /* Green to Blue */
        border: none;
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        transition: all 0.3s ease;
    }
    .btn-custom-primary:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 123, 255, 0.5);
        color: white; /* Ensure text color remains white on hover */
    }

    .btn-custom-secondary {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        backdrop-filter: blur(5px);
        transition: all 0.3s ease;
    }
    .btn-custom-secondary:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
        color: white; /* Ensure text color remains white on hover */
    }

    .btn-custom-accent {
        background: white;
        color: #1abc9c; /* Emerald color */
        padding: 15px 30px;
        border-radius: 50px;
        font-weight: 700;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(26, 188, 156, 0.3);
        transition: all 0.3s ease;
    }
    .btn-custom-accent:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(26, 188, 156, 0.5);
        color: #1abc9c;
    }

    /* Responsive adjustments for smaller screens */
    @media (max-width: 576px) {
        .hero-section h1 {
            font-size: 3rem;
        }
        .hero-section p {
            font-size: 1rem;
        }
        .btn-group-vertical {
            flex-direction: column;
            width: 100%;
        }
        .btn-group-vertical .btn {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<main>
    <!-- Hero Section -->
    <section class="hero-bg min-vh-100 d-flex align-items-center justify-content-center position-relative">
        <div class="container text-center position-relative z-1">
            <!-- Floating Icon -->
            <div class="floating-card mb-4">
                <div class="d-flex align-items-center justify-content-center mx-auto bg-white bg-opacity-25 rounded-circle glass-card" style="width: 96px; height: 96px;">
                    <i class="fas fa-graduation-cap text-white fs-1"></i>
                </div>
            </div>
            
            <!-- Main Title -->
            <h1 class="display-3 fw-bold text-white mb-3 animate-slide-up">
                {% translate "المنصة المساعدة" %}
                <span class="d-block gradient-text">
                    {% translate "للدراسة" %}
                </span>
            </h1>
            
            <!-- Subtitle -->
            <p class="lead text-white-75 mx-auto mb-5 animate-slide-up animate-delay-1" style="max-width: 700px;">
                {% translate "مكانك المتكامل لتنظيم دراستك، الوصول للملفات، متابعة الأخبار، وإدارة مهامك بكفاءة." %}
                <span class="d-block mt-2 text-warning">{% translate "انضم إلينا الآن وابدأ رحلتك نحو التفوق الأكاديمي!" %}</span>
            </p>
            
            <!-- CTA Buttons -->
            <div class="d-flex flex-column flex-sm-row justify-content-center gap-3 animate-slide-up animate-delay-2">
                <a href="{% url 'core:signup' %}" class="btn btn-custom-primary">
                    <i class="fas fa-user-plus me-2"></i>
                    {% translate "أنشئ حساباً مجانياً" %}
                </a>
                <a href="{% url 'login' %}" class="btn btn-custom-secondary">
                    <i class="fas fa-sign-in-alt me-2"></i>
                    {% translate "تسجيل الدخول" %}
                </a>
            </div>
        </div>
        
        <!-- Background Decorations -->
        <div class="position-absolute top-25 end-25 w-75 h-75 bg-white bg-opacity-5 rounded-circle blur-3"></div>
        <div class="position-absolute bottom-25 start-25 w-100 h-100 bg-info bg-opacity-10 rounded-circle blur-3"></div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-white text-dark position-relative overflow-hidden">
        <div class="container">
            <!-- Section Header -->
            <div class="text-center mb-5">
                <h2 class="display-4 fw-bold text-dark mb-3">
                    {% translate "ميزات المنصة" %}
                </h2>
                <div class="w-25 mx-auto mb-4" style="height: 5px; background: linear-gradient(90deg, #007bff, #6f42c1);"></div>
                <p class="lead text-muted mx-auto" style="max-width: 600px;">
                    {% translate "اكتشف كيف يمكن لمنصتنا مساعدتك في تحقيق أهدافك الدراسية" %}
                </p>
            </div>
            
            <!-- Features Grid -->
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <!-- Feature 1 -->
                <div class="col">
                    <div class="feature-card p-4 rounded-3 shadow text-center animate-slide-up">
                        <div class="d-flex align-items-center justify-content-center mx-auto mb-4 bg-primary rounded-circle" style="width: 80px; height: 80px; background: linear-gradient(to bottom right, #007bff, #0056b3) !important;">
                            <i class="fas fa-folder-open text-white fs-3"></i>
                        </div>
                        <h3 class="fs-4 fw-bold text-dark mb-3">
                            {% translate "مكتبة ملفات شاملة" %}
                        </h3>
                        <p class="text-muted lh-base">
                            {% translate "وصول سهل ومنظم لجميع محاضراتك وملخصاتك الدراسية في مكان واحد" %}
                        </p>
                    </div>
                </div>
                
                <!-- Feature 2 -->
                <div class="col">
                    <div class="feature-card p-4 rounded-3 shadow text-center animate-slide-up animate-delay-1">
                        <div class="d-flex align-items-center justify-content-center mx-auto mb-4 bg-success rounded-circle" style="width: 80px; height: 80px; background: linear-gradient(to bottom right, #28a745, #1e7e34) !important;">
                            <i class="fas fa-bullhorn text-white fs-3"></i>
                        </div>
                        <h3 class="fs-4 fw-bold text-dark mb-3">
                            {% translate "أخبار وإعلانات فورية" %}
                        </h3>
                        <p class="text-muted lh-base">
                            {% translate "كن على اطلاع دائم بآخر مواعيد الامتحانات، الفعاليات، والإعلانات الهامة" %}
                        </p>
                    </div>
                </div>
                
                <!-- Feature 3 -->
                <div class="col">
                    <div class="feature-card p-4 rounded-3 shadow text-center animate-slide-up animate-delay-2">
                        <div class="d-flex align-items-center justify-content-center mx-auto mb-4 bg-purple rounded-circle" style="width: 80px; height: 80px; background: linear-gradient(to bottom right, #6f42c1, #563d7c) !important;">
                            <i class="fas fa-tasks text-white fs-3"></i>
                        </div>
                        <h3 class="fs-4 fw-bold text-dark mb-3">
                            {% translate "إدارة مهام ذكية" %}
                        </h3>
                        <p class="text-muted lh-base">
                            {% translate "نظم مهامك الدراسية، اضبط مؤقتات التركيز، وحقق أهدافك بكفاءة" %}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Background Decorations -->
        <div class="position-absolute top-0 end-0 w-50 h-50 bg-info bg-opacity-10 rounded-circle blur-3" style="transform: translate(20%, -20%);"></div>
        <div class="position-absolute bottom-0 start-0 w-75 h-75 bg-purple bg-opacity-10 rounded-circle blur-3" style="transform: translate(-20%, 20%);"></div>
    </section>

    <!-- CTA Section -->
    <section class="py-5 bg-gradient-to-r from-emerald-400 to-cyan-400 position-relative overflow-hidden">
        <div class="container text-center position-relative z-1">
            <div class="mx-auto" style="max-width: 700px;">
                <div class="d-flex align-items-center justify-content-center mx-auto mb-4 bg-white bg-opacity-25 rounded-circle floating-card" style="width: 80px; height: 80px;">
                    <i class="fas fa-rocket text-white fs-3"></i>
                </div>
                
                <h2 class="display-4 fw-bold text-white mb-3">
                    {% translate "جاهز لتبدأ رحلتك نحو النجاح؟" %}
                </h2>
                
                <p class="lead text-white-75 mb-5 lh-base">
                    {% translate "انضم إلى زملائك في دفعتك واستفد من جميع موارد المنصة" %}
                </p>
                
                <a href="{% url 'core:dashboard' %}" class="btn btn-custom-accent pulse-slow">
                    <i class="fas fa-play me-2"></i>
                    {% translate "ابـدأ الآن!" %}
                </a>
            </div>
        </div>
        
        <!-- Background Decorations -->
        <div class="position-absolute top-0 end-0 w-25 h-25 bg-white bg-opacity-10 rounded-circle" style="transform: translate(50%, -50%);"></div>
        <div class="position-absolute bottom-0 start-0 w-50 h-50 bg-white bg-opacity-5 rounded-circle" style="transform: translate(-50%, 50%);"></div>
        <div class="position-absolute top-50 start-50 w-75 h-75 bg-white bg-opacity-5 rounded-circle blur-3" style="transform: translate(-50%, -50%);"></div>
    </section>
</main>

{% block extra_scripts %}
{{ block.super }}
<script>
    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible'); // Add 'visible' class
                observer.unobserve(entry.target); // Stop observing once animated
            }
        });
    }, observerOptions);
    
    // Observe all elements with animate-slide-up class
    document.querySelectorAll('.animate-slide-up').forEach(el => {
        observer.observe(el);
    });
</script>
{% endblock %}